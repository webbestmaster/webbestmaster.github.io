(()=>{"use strict";(()=>{var e;!function(e){e.auto="auto",e.dark="dark",e.light="light"}(e||(e={}));const n={codeHighlight:(e,n)=>n,parseLink:!0,themeName:e.auto,useLineBreak:!1,useWrapper:!0,wrapperClassName:"md-pro"},t={[e.auto]:`${n.wrapperClassName}-theme-${e.auto}`,[e.dark]:`${n.wrapperClassName}-theme-${e.dark}`,[e.light]:`${n.wrapperClassName}-theme-${e.light}`},r="mailto:",i="",o="<br/>";function l(e){return e.trim()!==i}function c(e){return e.trim().replace(/\s+/g," ")}function s(e){const n=[...e],[t]=n;if(!t)return!0;for(const e of n)if(e!==t)return!1;return!0}function a(e,n,t){const r=n.indexOf(e);if(-1===r)return null;const o=r+t,l=o in n?n[o]:null;return l?l.trimmedLine===i?a(e,n,t+(t>=0?1:-1)):l:null}function u(e,n,t){const{selector:r}=e,i=a(e,n,t);return!i||i.selector!==r}const f=["# ","## ","### ","#### ","##### ","###### "],d=["> "],p=["---","***","___"],m=["|"],h=["```"],g=["+ ","- ","* "],b=[{olAttributeType:"1",regExpSearchSelector:/^\d+\.\s/,selector:"0. "},{olAttributeType:"I",regExpSearchSelector:/^[CDILMVX]+\.\s/,selector:"I. "},{olAttributeType:"i",regExpSearchSelector:/^[cdilmvx]+\.\s/,selector:"i. "},{olAttributeType:"A",regExpSearchSelector:/^[A-Z]+\.\s/,selector:"A. "},{olAttributeType:"a",regExpSearchSelector:/^[a-z]+\.\s/,selector:"a. "}],L=[...f,...g,...m,...h,...d].sort(((e,n)=>n.length-e.length)),$=[{closeTag:"</i></b>",equal:/\*+/,openTag:"<b><i>",selector:"***"},{closeTag:"</b>",equal:/\*+/,openTag:"<b>",selector:"**"},{closeTag:"</u>",equal:/_+/,openTag:"<u>",selector:"__"},{closeTag:"</i>",equal:/_+/,openTag:"<i>",selector:"_"},{closeTag:"</i>",equal:/\*+/,openTag:"<i>",selector:"*"},{closeTag:"</strike>",equal:/~+/,openTag:"<strike>",selector:"~~"},{closeTag:"</sub>",equal:/~+/,openTag:"<sub>",selector:"~"},{closeTag:"</sup>",equal:/\^+/,openTag:"<sup>",selector:"^"},{closeTag:"</code>",equal:/`+/,openTag:'<code data-type="inline">',selector:"`"}],k="super",x=/\S\[\^[^\]]+?]|\S\^\[[^\]]+?]/g;function T(e){return/^\[\^[^\]]+]:/.test(e)}function S(e,n){return n.find((n=>n.id===e))}function y(e){return e.slice(3,-1).trim()}function v(e){return y(e).toLowerCase().replace(/\W/g," ").trim().replace(/\s+/g,"-")}function C(e){const n=v(e),t=y(e);return 1===e.indexOf("[^")?{descriptionLineData:null,id:n,inlineLineContent:t,type:k}:{descriptionLineData:null,id:n,inlineLineContent:t,type:"inline"}}const w=/<(\w+)[^>]*>[\S\s]*?<\/\1>/,E=/<\w+[^>]*?\s*\/>/;function _(e){return"string"==typeof e&&e.trim().length>0}function D(e){return e.includes("@")}function q(e,n){const[t,r]=e,[i,o]=n;return!(r<i||o<t)}function O(e,n){for(const t of n)if(q(e,t))return!0;return!1}function j(e,n){const t=[],r=e.match(n);if(!r)return[];let i=0;for(const n of r){const r=e.indexOf(n,i),o=r+n.length-1;i=o,t.push([r,o])}return t}const A=/(<\w+[\S\s]*?>)|(<\/\w+?>)|(<\w+[\S\s]*?\/>)/g;function H(e){return j(e,A)}const N=/(<a\s*?>[\S\s]*?<\/a>)|(<a\s[\S\s]*?>[\S\s]*?<\/a>)|(<a\s+[\S\s]*?\/>)/g,I=/(\w+:\/\/[\w.]+\.\w+[\w+/]*)/gi,M=/([\w.-]+@[\w.]+\.\w+[\w+/]*)/gi;function B(e,n,t){const r=function(e){return j(e,N)}(e),i=H(e);return e.replace(n,((e,n,o)=>{const l=[o,o];return O(l,i)||O(l,r)?e:`<a href="${t}${e}">${e}</a>`}))}function W(e,n){const{selector:t,openTag:r,closeTag:i}=n,o=t.length;if(!e.includes(t))return e;const l=H(e);let c=function(e,n){const{selector:t,equal:r}=n,i=[],o=t.length;if(0===o)return i;let l=e.indexOf(t,0);for(;-1!==l;){const n=e.slice(l).match(r);if(!n)return[];const[c]=n,s=c.length;s===o&&i.push(l),l=e.indexOf(t,l+s)}return i.length%2==1?i.slice(0,-1):i}(e,n);c=c.filter((e=>{for(const n of l)if(q(n,[e,e+o-1]))return!1;return!0}));const s=c.length;if(0===s)return e;let a=e.slice(0,c[0]);for(let n=1;n<=s;n+=1){const t=c[n],l=e.slice(c[n-1]+o,t);a+=n%2==1?r+l+i:l}return a}const F=/\s*?\\$/;function R(e){return e.replace(F,"<br/>")}function z(e,n){return n||F.test(e)}function P(e,n,t,r){const i=_(r)?' title="'+r+'"':"";return`<img loading="lazy" src="${t}"${_(n)?' alt="'+n+'"':""}${i}/>`}const U=/!\[([\S\s]*?)]\((\S+?)(?:\s+"([\S\s]+?)")?\)/g,V=/!\[([\S\s]*?)]\[([\S\s]+?)]/g,X=/\[x]/gi,Y=/\[\s]/g,Q=/\[([\S\s]*?)]\((\S+?)(?:\s+"([\S\s]+?)")?(?:\s+"([\S\s]+?)")?\)/g,Z=/\[([\S\s]*?)]\((\S+?)(?:\s+"([\S\s]+?)")?\)/g,G=/\[([\S\s]*?)]\[([\S\s]+?)]/g;function J(e,n,t,i,o){const l=_(i)?' title="'+i+'"':"",c=_(o)?"?subject="+o:"",s=n.length>0?n:t;return D(e)?`<a href="${r}${t}${c}"${l}>${s}</a>`:e}function K(e,n,t,r){return`<a href="${t}"${_(r)?' title="'+r+'"':""}>${n.length>0?n:t}</a>`}function ee(e){return D(e)?r:""}function ne(e,n){const{config:t}=n,{parseLink:i}=t;let o=function(e,n){return e.replace(x,(e=>{const t=[...e],[r]=t,{footnoteList:i}=n,o=v(e),l=S(o,i);return l?`${r}<a href="#${o}"><sup>[${i.indexOf(l)+1}]</sup></a>`:""}))}(e,n);return o=function(e,n){return e.replace(U,P).replace(V,((e,t,r)=>function(e,n,t,r){const i=_(n)?' alt="'+n+'"':"",{variable:o}=r;return t in o?`<img loading="lazy" src="${o[t].value}"${i}/>`:`<img loading="lazy" src="${t}"${i}/>`}(0,t,r,n)))}(o,n),o=function(e){return e.replace(Q,J)}(o),i&&(o=function(e){return B(e,M,r)}(o)),o=function(e){return e.replace(Z,K)}(o),i&&(o=function(e){return B(e,I,"")}(o)),o=function(e,n){return e.replace(G,((e,t,r)=>function(e,n,t,r){const{variable:i}=r;if(t in i){const e=i[t].value,r=n.length>0?n:e;return`<a href="${ee(e)}${e}">${r}</a>`}const o=n.length>0?n:t;return`<a href="${ee(t)}${t}">${o}</a>`}(0,t,r,n)))}(o,n),o=function(e){return e.replace(X,'<input type="checkbox" checked="checked" disabled="disabled"/>').replace(Y,'<input type="checkbox" disabled="disabled"/>')}(o),function(e){let n=e;for(const e of $)n=W(n,e);return n}(o)}function te(e){return e.replace(/[\s:|-]/g,"")===i}function re(e){const n=e.trim(),t=[...n],[r]=t,i=n[n.length-1];return r===i&&":"===r?"center":":"===i?"right":"left"}function ie(e,n,t,r,o){return n.map((n=>`<tr>${function(e,n,t,r,o){const{selector:c}=e;return n.split(c).filter(l).map(((e,n)=>{const i=t[n]||"left";return`<${r} align="${i}">${function(e,n){return ne(e,n).trim()}(e,o)}</${r}>`})).join(i)}(e,n,t,r,o)}</tr>`)).join(i)}function oe(e,n){return e.map(((t,r)=>function(e,n,t,r){const{selector:c,childList:s,lineContent:a,trimmedLine:L,additionalLineList:$,config:k}=e,{codeHighlight:x}=k,S=function(e){const{additionalLineList:n,config:t}=e,{lineContent:r}=e,{useLineBreak:l}=t;if(0===n.length)return i;const c=z(r,l)?o:" ",s=n.length,a=s-1,u=Array.from({length:s}).fill("");for(let e=0;e<s;e+=1){const t=n[e];if(z(t,l)){const n=t.replace(F,i);u[e]=e===a?n:n+o}else u[e]=e===a?t:t+" "}return c+u.join(i)}(e),y=oe(s,r);let v=a.replace(F,i)+S;if(v=ne(v,r),v+=y,T(a))return"";if(function(e){return p.includes(e.selector)}(e))return"<hr/>";if(function(e){return m.includes(e.selector)}(e))return function(e,n){const{selector:t,additionalLineList:r,line:i}=e,o=[i,...r],c=o.find(te);if(!c)return`<table><tbody>${ie(e,o,[],"td",n)}</tbody></table>`;const s=o.indexOf(c),a=o.slice(0,s),u=o.slice(s+1),f=function(e,n){return n.split(e).filter(l).map(re)}(t,c);return`<table><thead>${ie(e,a,f,"th",n)}</thead><tbody>${ie(e,u,f,"td",n)}</tbody></table>`}(e,r);if(function(e){return h.includes(e.selector)}(e)){const e=x(a,$.join("\n"));return a?`<code data-lang="${a}">${e}</code>`:`<code>${e}</code>`}if(a===i&&0===s.length)return i;if(function(e){return f.includes(e.selector)}(e)){const e=c.length-1;return`<h${e}>${v}</h${e}>`}if(function(e){return d.includes(e.selector)}(e))return`<blockquote>${v}</blockquote>`;if(function(e){return g.includes(e.selector)}(e))return`${u(e,t,-1)?"<ul>":""}<li>${v}</li>${u(e,t,1)?"</ul>":""}`;if(function(e){for(const n of b)if(n.selector===e.selector)return!0;return!1}(e)){const n=u(e,t,-1),r=u(e,t,1),{selector:i}=e,o=n?`<ol type="${function(e){for(const n of b){const{selector:t,olAttributeType:r}=n;if(e===t)return r}return"1"}(i)}" start="${function(e){const n=e.indexOf(".");return e.slice(0,n)}(L)}">`:"";return`${o}<li>${v}</li>${r?"</ol>":""}`}return a===i||function(e){const{trimmedLine:n}=e;return 0===n.search(w)||0===n.search(E)}(e)||function(e){return e.replace(U,"").trim()===i}(a)?v:`<p>${v}</p>`}(t,0,e,n))).map(R).join(i)}function le(e,r=n){const o={...n,...r},{useWrapper:l}=o,a={...n,...r,useWrapper:!1},u={additionalLineList:[],childList:[],config:o,line:i,lineContent:"",lineIndex:-1,selector:i,spaceCount:-1,trimmedLine:""},f=[u],d=[u],g={codeLineData:null,config:o,footnoteList:[],tableLineData:null,variable:{}};e.split("\n").forEach(((e,n,t)=>{!function(e,n,t,r,o,l){const a=e.trim(),u=a===i,f=u?o[o.length-1].spaceCount:e.search(/\S/),d=Math.max(0,f),g={lineContent:i,selector:i},{selector:$,lineContent:y}=u?g:function(e){for(const n of L)if(e.startsWith(n))return{lineContent:c(e.replace(n,i)),selector:n};for(const n of p)if(e.startsWith(n)&&s(e))return{lineContent:i,selector:n};for(const n of b){const{selector:t,regExpSearchSelector:r}=n;if(0===e.search(r))return{lineContent:c(e.replace(r,i)),selector:t}}return{lineContent:c(e),selector:i}}(a),v={additionalLineList:[],childList:[],config:l.config,line:u?i:e,lineContent:y,lineIndex:n,selector:$,spaceCount:d,trimmedLine:a};if(h.includes($)){if(l.codeLineData&&y===i)return l.codeLineData=null,!0;l.codeLineData=v}const{codeLineData:w}=l;if(w&&w!==v)return w.additionalLineList.push(v.line),!0;const E=function(e){const n=e.match(x);return n?n.map(C):[]}(y),{footnoteList:_,tableLineData:D,variable:q}=l;if(function(e,n){for(const t of e){const{id:e,descriptionLineData:r}=t,i=n.find((n=>n.id===e));i?i.descriptionLineData||(i.descriptionLineData=r):n.push(t)}}(E,_),m.includes($)){if(D)return D.additionalLineList.push(v.line),!0;l.tableLineData=v}else l.tableLineData=null;const O=function(e){const n=e.match(/\[([^^][\S\s]+?)]:\s+?\S/);return n?{key:n[1],value:e.slice(e.indexOf("]:")+3).trim()}:null}(y);if(v.selector===i&&y.length>0){const e=o[o.length-1],n=m.includes(e.selector);if(O&&(q[O.key]=O),e&&e.lineContent.length>0&&!n&&!O)return e.additionalLineList.push(y),!0}const j=function(e,n){for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(r.spaceCount<e.spaceCount)return r}return null}(v,o);j&&(O||(j.childList.push(v),o.push(v),T(y)&&function(e,n){const{lineContent:t}=e,r=t.match(/\[\^[^\]]+?]:/);if(!r)return;const[i]=r,o=i.slice(2,-2).trim(),l=S(o,n);l?l.descriptionLineData=e:n.push({descriptionLineData:e,id:o,inlineLineContent:t,type:k})}(v,_)))}(e,n,0,0,d,g)}));const $=oe(f,g),y=g.footnoteList.map((e=>{const{id:n}=e,t=function(e){const{inlineLineContent:n,descriptionLineData:t}=e;if(t){const{lineContent:e,additionalLineList:n}=t,r=e.indexOf("]:")+2;return e.slice(r)+"\n"+n.join("\n")}return n}(e);return`<li id="${n}">${le(t,a)}</li>`})),v=[$,0===y.length?"":["<hr/>",'<ol type="1">',...y,"</ol>"].join("")].join("");if(!l)return v;const w=function(e){const{wrapperClassName:r,themeName:i}=e,{wrapperClassName:o}=n;return`${r===o?o:`${o} ${r}`} ${t[i]}`}(o);return`<div class="${w}">${v}</div>`}const ce=[];function se(e){const n=ce.find((n=>n.node===e));if(n)return n;const{scrollHeight:t,clientHeight:r}=e,i={clientHeight:r,maxScrollTop:t-r,node:e,scrollHeight:t};return ce.push(i),i}function ae(e){ce.splice(0),e.forEach(se)}function ue(e,n){const t=se(e),r=se(n),i=t.node.scrollTop/t.maxScrollTop*r.maxScrollTop;Math.abs(i-r.node.scrollTop)<1||n.scrollTo(0,i)}function fe(n){switch(n){case e.auto:return e.auto;case e.dark:return e.dark;case e.light:return e.light;default:console.warn("[getThemeName] can not detect theme name.")}return console.warn("[getThemeName] use ThemeNameEnum.auto."),e.auto}const de=document.querySelector(".js-input"),pe=document.querySelector(".js-output"),me=document.querySelector(".js-output-debug"),he=document.querySelector(".js-use-line-break"),ge=document.querySelector(".js-parse-link"),be=document.querySelector(".js-theme-name");de instanceof HTMLTextAreaElement&&pe instanceof HTMLDivElement&&me instanceof HTMLPreElement&&he instanceof HTMLInputElement&&ge instanceof HTMLInputElement&&be instanceof HTMLSelectElement&&(de.textContent='## Welcome\r\n\r\nMarkdown pro - easy to use!\r\n\r\n<p>Use any html tags</p>\r\n<p>Ever\r\nMulti\r\nLine</p>\r\n\r\nUse option `useLineBreak` to\r\nbreak\r\nline\r\neverywhere.\r\n\r\nOr use `\\` at the end of line \\\r\nto break it.\r\n\r\n---\r\nTo make line use `---`, `***` or `___`.\r\n***\r\n\r\n\r\n### Emphasis\r\n\r\n**This is bold text**\r\n\r\n__This is underline text__\r\n\r\n_This is italic text_\r\n\r\n*This is italic text __too__*\r\n\r\n***This is bold and italic text***\r\n\r\n~~This is strikethrough text~~\r\n\r\n*__**~~Combine styles!~~**__*\r\n\r\n\r\n### Subscript/Superscript\r\n\r\n- 25^th^\r\n- C~2~H~5~OH\r\n\r\n\r\n### Images\r\n\r\n![](https://placekitten.com/100/100)\r\n![Cat](https://placekitten.com/110/110)\r\n![One more cat](https://placekitten.com/120/120 "The one more cat")\r\n![One more cat](https://placekitten.com/130/130 "The one more cat" your-attribute="my value")\r\n\r\nAlso, use image ![](https://placekitten.com/100/25) inline.\r\n\r\n\r\n### Checkboxes\r\n\r\n- [X] Checked checkbox\r\n- [x] Checked checkbox too\r\n- [ ] Unchecked checkbox\r\n\r\n[x] And one more checkbox\r\n\r\n\r\n### Links\r\n\r\nYou can use like this [link](http://example.com),\r\nlike this [](http://example.com "go to site"),\r\nlike this [go to site](http://example.com "go to site again"),\r\nlike this [](http://example.com)\r\nor http://like.this even (last method is configurable).\r\n\r\n\r\n### Emails\r\n\r\nYou can use Email this [send a email](my-email@example.com),\r\nlike this [](my-email@example.com "send a email"),\r\nlike this [send a email](my-email@example.com "send a email"),\r\nlike this [send a email with subject](my-email@example.com "send a email" "Subject of Email"),\r\nlike this [](my-email@example.com)\r\nor my-email@example.com even (last method is configurable).\r\n\r\n\r\n### Unordered list\r\n\r\n+ Create an unordered list by starting a line with `+`, `-` or `*`\r\n+ Sub-lists are made by indenting space(s):\r\n    + Lorem ipsum dolor\r\n    + Alias animi autem beatae\r\n\r\n\r\n### Ordered lists\r\n\r\n5. Create a Numeric list\r\n1. by starting a line with\r\n2. any number(s) with a dot, for example: `1.`\r\n\r\nB. Create a Big Alphabet list\r\nO. by starting a line with\r\nP. any Big Letter(s) with a dot, for example: `A.`\r\nQ. PS: avoid Roman number - I, V, X, L, C, D, M\r\n\r\nf. The same rule\r\no. for Small Alphabet list\r\nq. PS: avoid Roman number - i, v, x, l, c, d, m\r\n\r\nI. Create a Big Roman Number list\r\nII. by starting a line with\r\nV. any Big Roman Number(s) with a dot, for example: `I.`\r\n\r\nii. The same rule\r\nv. for Small Roman Number list\r\n\r\n\r\n### Footnote\r\n\r\nFootnote 1 link[^first].\r\n\r\nFootnote 2 link[^second].\r\n\r\nFootnote 1 link[^first] and 2 link[^second].\r\n\r\nInline footnote^[Text of inline footnote] definition.\r\n\r\nDuplicated footnote reference[^second].\r\n\r\n[^first]: Footnote **can have markdown**\r\nand\r\n_multiple_\r\nlines.\r\n\r\n[^second]: Footnote text.\r\n\r\n\r\n### Blockquote\r\n\r\n> One Markdown, One Specification, One Blockquote\r\n\r\n\r\n### Table\r\n\r\nTable with different cell aligns\r\n| Left     | Center   | Right         | Default (left)          |\r\n| :------- | :------: | ------------: | ----------------------- |\r\n| [ ] beep | _123_    | abc^[fn text] | `:---` - left           |\r\n| [X] boop | `let a`  | link[^first]  | `:--:` - center         |\r\n| [ ] foo  | **bold** | 123           | `---:` - right          |\r\n| [x] bar  | H~2~0    | 456           | `----` - default (left) |\r\n\r\n\r\n### Code\r\n\r\n```bash\r\n$ npm i markdown-pro\r\n$ sudo be happy\r\n```\r\n\r\n\r\n### Variables\r\n\r\n[image-variable]: https://placekitten.com/100/100\r\n[url variable]: http://example.com\r\n[email variable]: email@example.com\r\n\r\n![][image-variable]\r\n![cat][image-variable]\r\n\r\n[][url variable]\r\n[to site][url variable]\r\n[send email][email variable]\r\n',function(e,n,t,r,i,o){function l(){ae([e,n]),ue(e,n)}function c(){const c=le(e.value,{parseLink:i.checked,themeName:fe(o.value),useLineBreak:r.checked});n.innerHTML=c,t.textContent=function(e){let n="",t="";return e.split(/>\s*</).forEach((e=>{/^\/\w/.test(e)&&(t=t.slice("\t".length)),n+=t+"<"+e+">\r\n",/^<?\w[^>]*[^/]$/.test(e)&&(t+="\t")})),n.slice(1,-3)}(c),l()}function s(t){t.currentTarget===e?ue(e,n):ue(n,e)}e.addEventListener("input",c,!1),e.addEventListener("scroll",s,{passive:!0}),n.addEventListener("scroll",s,{passive:!0}),n.addEventListener("scroll",function(t,r){let i=null;return function(...t){null!==i&&clearTimeout(i),i=setTimeout((()=>{(t=>{ae([e,n]),s(t)})(...t)}),200)}}(),{passive:!0}),r.addEventListener("change",c,!1),i.addEventListener("change",c,!1),o.addEventListener("change",c,!1),window.addEventListener("resize",l,!1)}(de,pe,me,he,ge,be),de.dispatchEvent(new Event("input")))})()})();
//# sourceMappingURL=index.js.map