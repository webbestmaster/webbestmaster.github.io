(()=>{"use strict";(()=>{const e="",n="<br/>";function t(n){return n.trim()!==e}function i(e){return e.trim().replace(/\s+/g," ")}function o(e){const n=[...e],[t]=n;if(!t)return!0;for(const e of n)if(e!==t)return!1;return!0}function r(n,t,i){const o=t.indexOf(n);if(-1===o)return null;const l=o+i,c=l in t?t[l]:null;return c?c.trimmedLine===e?r(n,t,i+(i>=0?1:-1)):c:null}function l(e,n,t){const{selector:i}=e,o=r(e,n,t);return!o||o.selector!==i}const c=["# ","## ","### ","#### ","##### ","###### "],s=["> "],a=["---","***","___"],u=["|"],f=["```"],d=["+ ","- ","* "],p=[{olAttributeType:"1",regExpSearchSelector:/^\d+\.\s/,selector:"0. "},{olAttributeType:"I",regExpSearchSelector:/^[CDILMVX]+\.\s/,selector:"I. "},{olAttributeType:"i",regExpSearchSelector:/^[cdilmvx]+\.\s/,selector:"i. "},{olAttributeType:"A",regExpSearchSelector:/^[A-Z]+\.\s/,selector:"A. "},{olAttributeType:"a",regExpSearchSelector:/^[a-z]+\.\s/,selector:"a. "}],m=[...c,...d,...u,...f,...s].sort(((e,n)=>n.length-e.length)),h=[{closeTag:"</i></b>",equal:/\*+/,openTag:"<b><i>",selector:"***"},{closeTag:"</b>",equal:/\*+/,openTag:"<b>",selector:"**"},{closeTag:"</u>",equal:/_+/,openTag:"<u>",selector:"__"},{closeTag:"</i>",equal:/_+/,openTag:"<i>",selector:"_"},{closeTag:"</i>",equal:/\*+/,openTag:"<i>",selector:"*"},{closeTag:"</strike>",equal:/~+/,openTag:"<strike>",selector:"~~"},{closeTag:"</sub>",equal:/~+/,openTag:"<sub>",selector:"~"},{closeTag:"</sup>",equal:/\^+/,openTag:"<sup>",selector:"^"},{closeTag:"</code>",equal:/`+/,openTag:'<code data-type="inline">',selector:"`"}],g="super",b=/\S\[\^[^\]]+?]|\S\^\[[^\]]+?]/g;function L(e){return/^\[\^[^\]]+]:/.test(e)}function x(e,n){return n.find((n=>n.id===e))}function k(e){return e.slice(3,-1).trim()}function $(e){return k(e).toLowerCase().replace(/\W/g," ").trim().replace(/\s+/g,"-")}function T(e){const n=$(e),t=k(e);return 1===e.indexOf("[^")?{descriptionLineData:null,id:n,inlineLineContent:t,type:g}:{descriptionLineData:null,id:n,inlineLineContent:t,type:"inline"}}const S=/<(\w+)[^>]*>[\S\s]*?<\/\1>/,y=/<\w+[^>]*?\s*\/>/;function v(e){return"string"==typeof e&&e.trim().length>0}function C(e){return e.includes("@")}const w={codeHighlight:(e,n)=>n,parseLink:!0,useLineBreak:!1,useWrapper:!0,wrapperClassName:"md-pro"},_="mailto:";function E(e,n){const[t,i]=e,[o,r]=n;return!(i<o||r<t)}function D(e,n){for(const t of n)if(E(e,t))return!0;return!1}function q(e,n){const t=[],i=e.match(n);if(!i)return[];let o=0;for(const n of i){const i=e.indexOf(n,o),r=i+n.length-1;o=r,t.push([i,r])}return t}const O=/(<\w+[\S\s]*?>)|(<\/\w+?>)|(<\w+[\S\s]*?\/>)/g;function A(e){return q(e,O)}const j=/(<a\s*?>[\S\s]*?<\/a>)|(<a\s[\S\s]*?>[\S\s]*?<\/a>)|(<a\s+[\S\s]*?\/>)/g,H=/(\w+:\/\/[\w.]+\.\w+[\w+/]*)/gi,I=/([\w.-]+@[\w.]+\.\w+[\w+/]*)/gi;function M(e,n,t){const i=function(e){return q(e,j)}(e),o=A(e);return e.replace(n,((e,n,r)=>{const l=[r,r];return D(l,o)||D(l,i)?e:`<a href="${t}${e}">${e}</a>`}))}function B(e,n){const{selector:t,openTag:i,closeTag:o}=n,r=t.length;if(!e.includes(t))return e;const l=A(e);let c=function(e,n){const{selector:t,equal:i}=n,o=[],r=t.length;if(0===r)return o;let l=e.indexOf(t,0);for(;-1!==l;){const n=e.slice(l).match(i);if(!n)return[];const[c]=n,s=c.length;s===r&&o.push(l),l=e.indexOf(t,l+s)}return o.length%2==1?o.slice(0,-1):o}(e,n);c=c.filter((e=>{for(const n of l)if(E(n,[e,e+r-1]))return!1;return!0}));const s=c.length;if(0===s)return e;let a=e.slice(0,c[0]);for(let n=1;n<=s;n+=1){const t=c[n],l=e.slice(c[n-1]+r,t);a+=n%2==1?i+l+o:l}return a}const N=/\s*?\\$/;function W(e){return e.replace(N,"<br/>")}function F(e,n){return n||N.test(e)}function R(e,n,t,i){const o=v(i)?' title="'+i+'"':"";return`<img loading="lazy" src="${t}"${v(n)?' alt="'+n+'"':""}${o}/>`}const z=/!\[([\S\s]*?)]\((\S+?)(?:\s+"([\S\s]+?)")?\)/g,P=/!\[([\S\s]*?)]\[([\S\s]+?)]/g,U=/\[x]/gi,V=/\[\s]/g,X=/\[([\S\s]*?)]\((\S+?)(?:\s+"([\S\s]+?)")?(?:\s+"([\S\s]+?)")?\)/g,Y=/\[([\S\s]*?)]\((\S+?)(?:\s+"([\S\s]+?)")?\)/g,Q=/\[([\S\s]*?)]\[([\S\s]+?)]/g;function Z(e,n,t,i,o){const r=v(i)?' title="'+i+'"':"",l=v(o)?"?subject="+o:"",c=n.length>0?n:t;return C(e)?`<a href="mailto:${t}${l}"${r}>${c}</a>`:e}function G(e,n,t,i){return`<a href="${t}"${v(i)?' title="'+i+'"':""}>${n.length>0?n:t}</a>`}function J(e){return C(e)?_:""}function K(e,n){const{config:t}=n,{parseLink:i}=t;let o=function(e,n){return e.replace(b,(e=>{const t=[...e],[i]=t,{footnoteList:o}=n,r=$(e),l=x(r,o);return l?`${i}<a href="#${r}"><sup>[${o.indexOf(l)+1}]</sup></a>`:""}))}(e,n);return o=function(e,n){return e.replace(z,R).replace(P,((e,t,i)=>function(e,n,t,i){const o=v(n)?' alt="'+n+'"':"",{variable:r}=i;return t in r?`<img loading="lazy" src="${r[t].value}"${o}/>`:`<img loading="lazy" src="${t}"${o}/>`}(0,t,i,n)))}(o,n),o=function(e){return e.replace(X,Z)}(o),i&&(o=function(e){return M(e,I,_)}(o)),o=function(e){return e.replace(Y,G)}(o),i&&(o=function(e){return M(e,H,"")}(o)),o=function(e,n){return e.replace(Q,((e,t,i)=>function(e,n,t,i){const{variable:o}=i;if(t in o){const e=o[t].value,i=n.length>0?n:e;return`<a href="${J(e)}${e}">${i}</a>`}const r=n.length>0?n:t;return`<a href="${J(t)}${t}">${r}</a>`}(0,t,i,n)))}(o,n),o=function(e){return e.replace(U,'<input type="checkbox" checked="checked" disabled="disabled"/>').replace(V,'<input type="checkbox" disabled="disabled"/>')}(o),function(e){let n=e;for(const e of h)n=B(n,e);return n}(o)}function ee(n){return n.replace(/[\s:|-]/g,"")===e}function ne(e){const n=e.trim(),t=[...n],[i]=t,o=n[n.length-1];return i===o&&":"===i?"center":":"===o?"right":"left"}function te(n,i,o,r,l){return i.map((i=>`<tr>${function(n,i,o,r,l){const{selector:c}=n;return i.split(c).filter(t).map(((e,n)=>{const t=o[n]||"left";return`<${r} align="${t}">${function(e,n){return K(e,n).trim()}(e,l)}</${r}>`})).join(e)}(n,i,o,r,l)}</tr>`)).join(e)}function ie(i,o){return i.map(((r,m)=>function(i,o,r,m){const{selector:h,childList:g,lineContent:b,trimmedLine:x,additionalLineList:k,config:$}=i,{codeHighlight:T}=$,v=function(t){const{additionalLineList:i,config:o}=t,{lineContent:r}=t,{useLineBreak:l}=o;if(0===i.length)return e;const c=F(r,l)?n:" ",s=i.length,a=s-1,u=Array.from({length:s}).fill("");for(let t=0;t<s;t+=1){const o=i[t];if(F(o,l)){const i=o.replace(N,e);u[t]=t===a?i:i+n}else u[t]=t===a?o:o+" "}return c+u.join(e)}(i),C=ie(g,m);let w=b.replace(N,e)+v;if(w=K(w,m),w+=C,L(b))return"";if(function(e){return a.includes(e.selector)}(i))return"<hr/>";if(function(e){return u.includes(e.selector)}(i))return function(e,n){const{selector:i,additionalLineList:o,line:r}=e,l=[r,...o],c=l.find(ee);if(!c)return`<table><tbody>${te(e,l,[],"td",n)}</tbody></table>`;const s=l.indexOf(c),a=l.slice(0,s),u=l.slice(s+1),f=function(e,n){return n.split(e).filter(t).map(ne)}(i,c);return`<table><thead>${te(e,a,f,"th",n)}</thead><tbody>${te(e,u,f,"td",n)}</tbody></table>`}(i,m);if(function(e){return f.includes(e.selector)}(i)){const e=T(b,k.join("\n"));return b?`<code data-lang="${b}">${e}</code>`:`<code>${e}</code>`}if(b===e&&0===g.length)return e;if(function(e){return c.includes(e.selector)}(i)){const e=h.length-1;return`<h${e}>${w}</h${e}>`}if(function(e){return s.includes(e.selector)}(i))return`<blockquote>${w}</blockquote>`;if(function(e){return d.includes(e.selector)}(i))return`${l(i,r,-1)?"<ul>":""}<li>${w}</li>${l(i,r,1)?"</ul>":""}`;if(function(e){for(const n of p)if(n.selector===e.selector)return!0;return!1}(i)){const e=l(i,r,-1),n=l(i,r,1),{selector:t}=i,o=e?`<ol type="${function(e){for(const n of p){const{selector:t,olAttributeType:i}=n;if(e===t)return i}return"1"}(t)}" start="${function(e){const n=e.indexOf(".");return e.slice(0,n)}(x)}">`:"";return`${o}<li>${w}</li>${n?"</ol>":""}`}return b===e||function(e){const{trimmedLine:n}=e;return 0===n.search(S)||0===n.search(y)}(i)||function(n){return n.replace(z,"").trim()===e}(b)?w:`<p>${w}</p>`}(r,0,i,o))).map(W).join(e)}function oe(n,t=w){const r={...w,...t},{useWrapper:l}=r,c={...w,...t,useWrapper:!1},s={additionalLineList:[],childList:[],config:r,line:e,lineContent:"",lineIndex:-1,selector:e,spaceCount:-1,trimmedLine:""},d=[s],h=[s],k={codeLineData:null,config:r,footnoteList:[],tableLineData:null,variable:{}};n.split("\n").forEach(((n,t,r)=>{!function(n,t,r,l,c,s){const d=n.trim(),h=d===e,k=h?c[c.length-1].spaceCount:n.search(/\S/),$=Math.max(0,k),S={lineContent:e,selector:e},{selector:y,lineContent:v}=h?S:function(n){for(const t of m)if(n.startsWith(t))return{lineContent:i(n.replace(t,e)),selector:t};for(const t of a)if(n.startsWith(t)&&o(n))return{lineContent:e,selector:t};for(const t of p){const{selector:o,regExpSearchSelector:r}=t;if(0===n.search(r))return{lineContent:i(n.replace(r,e)),selector:o}}return{lineContent:i(n),selector:e}}(d),C={additionalLineList:[],childList:[],config:s.config,line:h?e:n,lineContent:v,lineIndex:t,selector:y,spaceCount:$,trimmedLine:d};if(f.includes(y)){if(s.codeLineData&&v===e)return s.codeLineData=null,!0;s.codeLineData=C}const{codeLineData:w}=s;if(w&&w!==C)return w.additionalLineList.push(C.line),!0;const _=function(e){const n=e.match(b);return n?n.map(T):[]}(v),{footnoteList:E,tableLineData:D,variable:q}=s;if(function(e,n){for(const t of e){const{id:e,descriptionLineData:i}=t,o=n.find((n=>n.id===e));o?o.descriptionLineData||(o.descriptionLineData=i):n.push(t)}}(_,E),u.includes(y)){if(D)return D.additionalLineList.push(C.line),!0;s.tableLineData=C}else s.tableLineData=null;const O=function(e){const n=e.match(/\[([^^][\S\s]+?)]:\s+?\S/);return n?{key:n[1],value:e.slice(e.indexOf("]:")+3).trim()}:null}(v);if(C.selector===e&&v.length>0){const e=c[c.length-1],n=u.includes(e.selector);if(O&&(q[O.key]=O),e&&e.lineContent.length>0&&!n&&!O)return e.additionalLineList.push(v),!0}const A=function(e,n){for(let t=n.length-1;t>=0;t-=1){const i=n[t];if(i.spaceCount<e.spaceCount)return i}return null}(C,c);A&&(O||(A.childList.push(C),c.push(C),L(v)&&function(e,n){const{lineContent:t}=e,i=t.match(/\[\^[^\]]+?]:/);if(!i)return;const[o]=i,r=o.slice(2,-2).trim(),l=x(r,n);l?l.descriptionLineData=e:n.push({descriptionLineData:e,id:r,inlineLineContent:t,type:g})}(C,E)))}(n,t,0,0,h,k)}));const{wrapperClassName:$}=r,{wrapperClassName:S}=w,y=ie(d,k),v=k.footnoteList.map((e=>{const{id:n}=e,t=function(e){const{inlineLineContent:n,descriptionLineData:t}=e;if(t){const{lineContent:e,additionalLineList:n}=t,i=e.indexOf("]:")+2;return e.slice(i)+"\n"+n.join("\n")}return n}(e);return`<li id="${n}">${oe(t,c)}</li>`})),C=[y,0===v.length?"":["<hr/>",'<ol type="1">',...v,"</ol>"].join("")].join("");return l?`<div class="${$===S?S:`${S} ${$}`}">${C}</div>`:C}const re=[];function le(e){const n=re.find((n=>n.node===e));if(n)return n;const{scrollHeight:t,clientHeight:i}=e,o={clientHeight:i,maxScrollTop:t-i,node:e,scrollHeight:t};return re.push(o),o}function ce(e){re.splice(0),e.forEach(le)}function se(e,n){const t=le(e),i=le(n),o=t.node.scrollTop/t.maxScrollTop*i.maxScrollTop;Math.abs(o-i.node.scrollTop)<1||n.scrollTo(0,o)}const ae=document.querySelector(".js-input"),ue=document.querySelector(".js-output"),fe=document.querySelector(".js-output-debug"),de=document.querySelector(".js-use-line-break"),pe=document.querySelector(".js-parse-link");ae instanceof HTMLTextAreaElement&&ue instanceof HTMLDivElement&&fe instanceof HTMLPreElement&&de instanceof HTMLInputElement&&pe instanceof HTMLInputElement&&(ae.textContent='## Welcome\n\nMarkdown pro - easy to use!\n\n<p>Use any html tags</p>\n<p>Ever\nMulti\nLine</p>\n\nUse option `useLineBreak` to\nbreak\nline\neverywhere.\n\nOr use `\\` at the end of line \\\nto break it.\n\n---\nTo make line use `---`, `***` or `___`.\n***\n\n\n### Emphasis\n\n**This is bold text**\n\n__This is underline text__\n\n_This is italic text_\n\n*This is italic text __too__*\n\n***This is bold and italic text***\n\n~~This is strikethrough text~~\n\n*__**~~Combine styles!~~**__*\n\n\n### Subscript/Superscript\n\n- 25^th^\n- C~2~H~5~OH\n\n\n### Images\n\n![](https://placekitten.com/100/100)\n![Cat](https://placekitten.com/110/110)\n![One more cat](https://placekitten.com/120/120 "The one more cat")\n![One more cat](https://placekitten.com/130/130 "The one more cat" your-attribute="my value")\n\nAlso, use image ![](https://placekitten.com/100/25) inline.\n\n\n### Checkboxes\n\n- [X] Checked checkbox\n- [x] Checked checkbox too\n- [ ] Unchecked checkbox\n\n[x] And one more checkbox\n\n\n### Links\n\nYou can use like this [link](http://example.com),\nlike this [](http://example.com "go to site"),\nlike this [go to site](http://example.com "go to site again"),\nlike this [](http://example.com)\nor http://like.this even (last method is configurable).\n\n\n### Emails\n\nYou can use Email this [send a email](my-email@example.com),\nlike this [](my-email@example.com "send a email"),\nlike this [send a email](my-email@example.com "send a email"),\nlike this [send a email with subject](my-email@example.com "send a email" "Subject of Email"),\nlike this [](my-email@example.com)\nor my-email@example.com even (last method is configurable).\n\n\n### Unordered list\n\n+ Create an unordered list by starting a line with `+`, `-` or `*`\n+ Sub-lists are made by indenting space(s):\n    + Lorem ipsum dolor\n    + Alias animi autem beatae\n\n\n### Ordered lists\n\n5. Create a Numeric list\n1. by starting a line with\n2. any number(s) with a dot, for example: `1.`\n\nB. Create a Big Alphabet list\nO. by starting a line with\nP. any Big Letter(s) with a dot, for example: `A.`\nQ. PS: avoid Roman number - I, V, X, L, C, D, M\n\nf. The same rule\no. for Small Alphabet list\nq. PS: avoid Roman number - i, v, x, l, c, d, m\n\nI. Create a Big Roman Number list\nII. by starting a line with\nV. any Big Roman Number(s) with a dot, for example: `I.`\n\nii. The same rule\nv. for Small Roman Number list\n\n\n### Footnote\n\nFootnote 1 link[^first].\n\nFootnote 2 link[^second].\n\nFootnote 1 link[^first] and 2 link[^second].\n\nInline footnote^[Text of inline footnote] definition.\n\nDuplicated footnote reference[^second].\n\n[^first]: Footnote **can have markdown**\nand\n_multiple_\nlines.\n\n[^second]: Footnote text.\n\n\n### Blockquote\n\n> One Markdown, One Specification, One Blockquote\n\n\n### Table\n\nTable with different cell aligns\n| Left     | Center   | Right         | Default (left)          |\n| :------- | :------: | ------------: | ----------------------- |\n| [ ] beep | _123_    | abc^[fn text] | `:---` - left           |\n| [X] boop | `let a`  | link[^first]  | `:--:` - center         |\n| [ ] foo  | **bold** | 123           | `---:` - right          |\n| [x] bar  | H~2~0    | 456           | `----` - default (left) |\n\n\n### Code\n\n```bash\n$ npm i markdown-pro\n$ sudo be happy\n```\n\n\n### Variables\n\n[image-variable]: https://placekitten.com/100/100\n[url variable]: http://example.com\n[email variable]: email@example.com\n\n![][image-variable]\n![cat][image-variable]\n\n[][url variable]\n[to site][url variable]\n[send email][email variable]\n',function(e,n,t,i,o){function r(){ce([e,n]),se(e,n)}function l(){const l=oe(e.value,{parseLink:o.checked,useLineBreak:i.checked});n.innerHTML=l,t.textContent=function(e){let n="",t="";return e.split(/>\s*</).forEach((e=>{/^\/\w/.test(e)&&(t=t.slice("\t".length)),n+=t+"<"+e+">\r\n",/^<?\w[^>]*[^/]$/.test(e)&&(t+="\t")})),n.slice(1,-3)}(l),r()}function c(t){t.currentTarget===e?se(e,n):se(n,e)}e.addEventListener("input",l,!1),e.addEventListener("scroll",c,{passive:!0}),n.addEventListener("scroll",c,{passive:!0}),n.addEventListener("scroll",function(t,i){let o=null;return function(...t){null!==o&&clearTimeout(o),o=setTimeout((()=>{(t=>{ce([e,n]),c(t)})(...t)}),200)}}(),{passive:!0}),i.addEventListener("change",l,!1),o.addEventListener("change",l,!1),window.addEventListener("resize",r,!1)}(ae,ue,fe,de,pe),ae.dispatchEvent(new Event("input")))})()})();