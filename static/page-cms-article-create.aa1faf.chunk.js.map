{"version":3,"file":"page-cms-article-create.aa1faf.chunk.js","mappings":"mSAcA,MAAM,MAACA,GAAS,IAET,SAASC,IACZ,MAAMC,GAAW,WAEVC,QAASC,EAAeC,aAAcC,IAA6B,QAGxE,MAgBF,OACI,UAAC,IAAO,YACJ,SAACN,EAAK,CAACO,MAAO,EAAC,iCACf,SAAC,IAAU,CACPC,QAAS,KACF,SACHC,IAAI,WAERC,KAAM,YACNC,SAvBZ,SAAwBH,GACpBJ,EAAcI,GACTI,MAAMC,IAGHX,GAAS,QAAqBM,EAAQC,KAEtC,aAAgB,4BAA4B,IAE/CK,OAAOC,IACJ,WAAc,UAAUA,EAAaC,UAAU,GAE3D,KAaQ,SAAC,IAAO,CAACC,OAAQX,EAA2BY,SAAS,YAV5C,gBAarB,C","sources":["webpack://typescript-project/./www/page/cms/cms-article/cms-article-create/cms-article-create.tsx"],"sourcesContent":["import {Typography, message} from 'antd';\nimport {useNavigate} from 'react-router';\n\nimport {CmsArticle} from '../cms-article';\nimport {makeDefaultArticle} from '../../../../../server/article/article-helper';\nimport {CmsArticleModeEnum} from '../cms-article-const';\nimport {ArticleType} from '../../../../../server/article/article-type';\nimport {postArticleCreate} from '../../../../service/article/article-api';\nimport {useMakeExecutableState} from '../../../../util/function';\nimport {getRandomString} from '../../../../util/string';\nimport {Spinner} from '../../../../layout/spinner/spinner';\nimport {CmsPage} from '../../layout/cms-page/cms-page';\nimport {getArticleLinkToEdit} from '../cms-article-helper';\n\nconst {Title} = Typography;\n\nexport function CmsArticleCreate(): JSX.Element {\n    const navigate = useNavigate();\n\n    const {execute: createArticle, isInProgress: isInProgressCreateArticle} = useMakeExecutableState<\n        Parameters<typeof postArticleCreate>,\n        ArticleType\n    >(postArticleCreate);\n\n    function handleOnFinish(article: ArticleType) {\n        createArticle(article)\n            .then((savedArticle: ArticleType) => {\n                console.log(savedArticle);\n\n                navigate(getArticleLinkToEdit(article.id));\n\n                message.success('Article has been created!');\n            })\n            .catch((requestError: Error) => {\n                message.error(`ERROR: ${requestError.message}`);\n            });\n    }\n\n    return (\n        <CmsPage key=\"create-create\">\n            <Title level={2}>Create new article</Title>\n            <CmsArticle\n                article={{\n                    ...makeDefaultArticle(),\n                    id: getRandomString(),\n                }}\n                mode={CmsArticleModeEnum.create}\n                onFinish={handleOnFinish}\n            />\n            <Spinner isShow={isInProgressCreateArticle} position=\"fixed\" />\n        </CmsPage>\n    );\n}\n"],"names":["Title","CmsArticleCreate","navigate","execute","createArticle","isInProgress","isInProgressCreateArticle","level","article","id","mode","onFinish","then","savedArticle","catch","requestError","message","isShow","position"],"sourceRoot":""}